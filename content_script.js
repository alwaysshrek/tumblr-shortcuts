var g=null;
(function(){var d,o,p,q,e,j,h,r,s,k,l,m,t,u,v,i,w,x,n,y,z;d=function(a){return document.getElementById(a)};l=function(a,c){var b;return(b=a.className)!=g?b.match(RegExp("\\b"+c+"\\b","im")):void 0};i=function(a){return!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey};h=function(a){return a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey};o=function(a){return!a.ctrlKey&&!a.shiftKey&&a.altKey&&!a.metaKey};m=function(a){return a instanceof HTMLTextAreaElement||a instanceof HTMLInputElement};e=function(a,c){var b;
c==g&&(c=!1);if(a)return b=document.createEvent("MouseEvents"),b.initMouseEvent("click",!0,!0,window,0,0,0,0,0,c,!1,!1,!1,0,g),a.dispatchEvent(b)};q=function(a,c){var b;if(a)a.selectedIndex=c,b=document.createEvent("Event"),b.initEvent("change",!0,!1),a.dispatchEvent(b)};k=function(a){var c,b,f,A;c=d(a).getElementsByClassName("post_controls")[0].getElementsByTagName("a");for(b=0,f=c.length;b<f;b++)if(a=c[b],(A=a.href)!=g&&A.match("reblog"))return a};n=function(a,c){c==g&&(c=!1);return e(k(a),c)};
w=function(a){a=k(a);a=decodeURIComponent(a.href.match(/redirect_to=.*/)[0].substring(12));return window.location.replace(a)};v=function(a){return e(d("like_button_"+a.substring(5)))};z=function(a){return e(d("permalink_"+a.substring(5)),!0)};y=function(a){return e(d("reply_button_"+a.id.substring(12)))};j=function(){return e(d("save_button"))};p=function(){return e(d("cancel_button"))};x=function(){q(d("post_state"),1)};s=function(){var a,c,b;c=function(a){return{id:a.id,top:a.offsetTop,height:a.offsetHeight}};
b=d("posts").childNodes;return function(){var f,d,e;e=[];for(f=0,d=b.length;f<d;f++)a=b[f],l(a,"post")&&e.push(c(a));return e}()};r=function(){var a,c,b,d,e;a=document.body.scrollTop+7;e=s();for(b=0,d=e.length;b<d;b++)if(c=e[b],a>=c.top&&a<=c.top+c.height)return c.id};t=function(a,c){var b;b=a.target;if([76,82,86,80].indexOf(c)>-1&&!m(b))if(b=r(),i(a))switch(c){case 76:return v(b);case 82:return n(b);case 86:return z(b);case 80:return w(b)}else{if(o(a)&&c===82)return n(b,!0)}else if(c===13&&h(a)&&
m(b)&&l(b,"reply_text"))return y(b)};u=function(a,c){if(c===13&&h(a))return j();else if(c===27&&i(a))return p();else if(c===81&&(i(a)||h(a)))if(x(),h(a))return j()};window.addEventListener("keydown",function(a){var c,b;if(a==g)a=window.event;c=a.charCode?a.charCode:a.keyCode;b=window.location.href.toLowerCase();if(b.indexOf("/reblog/")!==-1)return u(a,c);else if(b.indexOf("/dashboard")!==-1)return t(a,c)})}).call(this);
