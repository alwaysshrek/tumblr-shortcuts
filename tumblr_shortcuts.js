var f=null;
(function(){function e(b,a){return function(){return b.apply(a,arguments)}}var h,j,k,i,l,d;h=function(b){return document.getElementById(b)};l=function(b,a){var m;return(m=b.className)!=f?m.match(RegExp("\\b"+a+"\\b","im")):void 0};j=function(){function b(){this.h=e(this.h,this);this.d={};this.u={w:13,escape:27};window.addEventListener("keydown",this.h)}b.prototype.add=function(a,b){var c,d,g;if(b==f){g=[];for(d in a)c=a[d],g.push(this.m(d,c));return g}else return this.m(a,b)};b.prototype.m=function(a,
b){var c,d,g,e;e=a.match(/((ctrl|alt|meta|shift)\+)?([a-z0-9]+)(:input)?/i);g=e[2];c=e[3];d=e[4];c=c.length===1?c.toUpperCase().charCodeAt(0):this.u[c];g=this.s({altKey:g==="alt",ctrlKey:g==="ctrl",shiftKey:g==="shift",metaKey:g==="meta"});this.d[c]==f&&(this.d[c]={});return this.d[c][g]={input:d!=f,event:b}};b.prototype.t=function(a){return a instanceof HTMLTextAreaElement||a instanceof HTMLInputElement};b.prototype.s=function(a){return 1*a.altKey+2*a.ctrlKey+4*a.metaKey+8*a.shiftKey};b.prototype.h=
function(a){var b,c;if(a==f)a=window.event;c=this.d[a.charCode||a.keyCode];b=this.s(a);if(c!=f&&c[b]!=f&&this.t(a.target)===c[b].input)return c[b].event(a)};return b}();k=function(){function b(){this.e=e(this.e,this);this.f=e(this.f,this);this.i=e(this.i,this);this.c=e(this.c,this);this.k=e(this.k,this);this.view=e(this.view,this);this.j=e(this.j,this);this.page=e(this.page,this);this.g=e(this.g,this)}b.prototype.a=function(a,b){var c;b==f&&(b=!1);if(a!=f)return c=document.createEvent("MouseEvents"),
c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,b,!1,!1,!1,0,f),a.dispatchEvent(c)};b.prototype.n=function(a,b){var c;if(a!=f)return a.selectedIndex=b,c=document.createEvent("Event"),c.initEvent("change",!0,!1),a.dispatchEvent(c)};b.prototype.o=function(a){var b,c,d,e;b=h(a).getElementsByClassName("post_controls")[0].getElementsByTagName("a");for(c=0,d=b.length;c<d;c++)if(a=b[c],(e=a.href)!=f&&e.match("reblog"))return a};b.prototype.g=function(a,b){b==f&&(b=!1);return this.a(this.o(a),b)};b.prototype.page=
function(a){a=this.o(a);a=decodeURIComponent(a.href.match(/redirect_to=.*/)[0].substring(12));return window.location.replace(a)};b.prototype.j=function(a){return this.a(h("like_button_"+a.substring(5)))};b.prototype.view=function(a){return this.a(h("permalink_"+a.substring(5)),!0)};b.prototype.k=function(a){return this.a(h("reply_button_"+a.id.substring(12)))};b.prototype.c=function(){return this.a(h("save_button"))};b.prototype.i=function(){return this.a(h("cancel_button"))};b.prototype.f=function(){return this.n(h("post_state"),
1)};b.prototype.e=function(){var a;a=h("channel_id");return this.n(a,a.selectedIndex<a.length-1?a.selectedIndex+1:0)};return b}();i=function(){var b,a,d,c,e;a=document.body.scrollTop+7;d=h("posts").childNodes;for(c=0,e=d.length;c<e;c++)if(b=d[c],l(b,"post")&&a>=b.offsetTop&&a<=b.offsetTop+b.offsetHeight)return b.id};d=new k;k=new j;j=window.location.href.toLowerCase();j.indexOf("/dashboard")!==-1?k.add({l:function(){return d.j(i())},r:function(){return d.g(i())},v:function(){return d.view(i())},p:function(){return d.page(i())},
"alt+r":function(){return d.g(i(),!0)},"ctrl+enter:input":function(b){return d.k(b.target)}}):j.indexOf("/reblog/")!==-1&&k.add({b:d.e,"alt+b":function(){d.e();return d.c()},q:d.f,"alt+q":function(){d.f();return d.c()},escape:d.i,"ctrl+enter":d.c})}).call(this);
