(function(){var d,g,f,n,j,o,k,p,q,r,l,s,t,u;d=function(a){return document.getElementById(a)};k=function(a,b){var c;return(c=a.className)!=null?c.match(RegExp("\\b"+b+"\\b","im")):void 0};l=function(a){return!a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey};j=function(a){return a.ctrlKey&&!a.shiftKey&&!a.altKey&&!a.metaKey};f=function(a,b){var c;b==null&&(b=!1);if(a)return c=document.createEvent("MouseEvents"),c.initMouseEvent("click",!0,!0,window,0,0,0,0,0,b,!1,!1,!1,0,null),a.dispatchEvent(c)};s=function(a){var b,
c,e,h;b=d(a).getElementsByClassName("post_controls")[0].getElementsByTagName("a");for(c=0,e=b.length;c<e;c++)if(a=b[c],(h=a.href)!=null&&h.match("reblog"))return f(a)};r=function(a){return f(d("like_button_"+a.substring(5)))};u=function(a){return f(d("permalink_"+a.substring(5)),!0)};t=function(a){return f(d("reply_button_"+a.id.substring(12)))};n=function(){return f(d("save_button"))};g=function(){return f(d("cancel_button"))};o=function(){var a,b,c;b=function(a){return[a.id,a.offsetTop,a.offsetHeight]};
c=d("posts").childNodes;return function(){var e,h,d;d=[];for(e=0,h=c.length;e<h;e++)a=c[e],k(a,"post")&&d.push(b(a));return d}()};p=function(a,b){var c,e,d,f,i,g,m;if(l(a&&[76,82,86].indexOf(b)>-1&&!(a.target instanceof HTMLTextAreaElement)&&!(a.target instanceof HTMLInputElement))){d=o();c=document.body.scrollTop+7;m=[];for(i=0,g=d.length;i<g;i++)e=d[i],m.push(function(){if(c>=e[1]&&c<=e[1]+e[2])switch(f=e[0],b){case 76:return r(f);case 82:return s(f);case 86:return u(f)}}());return m}else if(b===
13&&j(a&&a.target instanceof HTMLTextAreaElement&&k(a.target,"reply_text")))return t(a.target)};q=function(a,b){if(b===13&&j(a))return n();else if(b===27&&l(a))return g()};window.addEventListener("keydown",function(a){var b,c;if(a==null)a=window.event;b=a.charCode?a.charCode:a.keyCode;c=window.location.href.toLowerCase();if(c.indexOf("/reblog/")!==-1)return q(a,b);else if(c.indexOf("/dashboard")!==-1)return p(a,b)})}).call(this);
